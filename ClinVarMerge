###### My first attempt was to use R itself through terminal ######

# Open R from terminal

R
rm(list=ls())
setwd("/Volumes/HZD/FAOVRDB/hg19/CADD/")
install.packages("data.table")
library(data.table)
install.packages("tidyverse")
library(tidyverse)

# ^ Here there is message asking to select a CRAN mirror for this session; I selected PA, USA

library("data.table")
vcf <- fread("/Volumes/HZD/FAOVRDB/hg19/CADD/clinvar_20220528.vcf")

# Reading the chr22 file does not work: it gives the message:
# > Error: vector memory exhausted (limit reached?)

fread("hg19_CADD_SNVs_inclAnno_chr22.txt")

# I was planning to use Dplyr’s left_join as shown below: (this subsequent step was not possible due to the prior error)

left_join(hg19_CADD_SNVs_inclAnno_chr22.txt, clinvar_20220528.vcf, by = c("#Chrom" = "#CHROM"))

# However, this technique is not viable as we encounter memory issues handling the large (75+ gigabyte) Chr22 file.

###### My second attempt using only the XSV tool within terminal ######

# Open terminal and install xsv using homebrew

brew install xsv

# Left join the two files together based on matching chromosome values and pipe to XSV table to visualize it readily within terminal.

xsv join –-left #Chrom hg19_CADD_SNVs_inclAnno_chr22.txt #CHROM clinvar_20220528.vcf | xsv table

# Error message: Selector name '#Chrom' does not exist as a named header in the given CSV data.

# Is this because of formatting? E.g. extra row above column names in the first file (how can we use “-n” for only one column?).
